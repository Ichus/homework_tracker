<%= render "nav" %>

<% assigned = AssignmentUser.where(user_id: current_user.id) %>
<% assignments = []
<% assigned.each do |assigned| %>
  <% assignments << Assignment.find(assigned.assignment_id) %>
<% end %>

<h2>Assignments</h1>
  <% assignments.each do |assignment| %>
    <% if assignment.assigned?(assignment) %>
      <p><%= assignment.title %></p>
      <p><%= assignment.description %></p>
      <p>-------------------------------------------------------</p>
    <% end %>
  <% end %>
<h2>Past Due Assignments</h3>
  <% assignments.each do |assignment| %>
    <% if assignment.late?(assignment) %>
      <p><%= assignment.title %></p>
      <p><%= assignment.description %></p>
      <p>-------------------------------------------------------</p>
    <% end %>
  <% end %>
<h2>Completed Assignments</h3>
  <% assignments.each do |assignment| %>
    <% completed_assignments << assignment.completed(assignment, current_user) %>
  <% end %>
  <% assignments.each do |assignment| %>
    <% completed_assignments.each do |completed| %>
      <% if assignment.id == completed.assignment_id
        <p><%= assignment.title %></p>
        <p><%= assignment.description %></p>
        <p>-------------------------------------------------------</p>
      <% end %>
    <% end %>
  <% end %>


















<!-- <table>
  <thead>
    <tr>
      <th>Username</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <%# @users.each do |user| %>
      <tr>
        <td><%#=# user.username %></td>
        <td><%#=# link_to 'Show', user %></td>
        <td><%#=# link_to 'Edit', edit_user_path(user) %></td>
        <td><%#=# link_to 'Destroy', user, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <%# end %>
  </tbody>
</table> -->
